<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Codingandroidapplearn by basti-shi031</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Codingandroidapplearn</h1>
      <h2 class="project-tagline">学习CodingAndroidApp源码</h2>
      <a href="https://github.com/basti-shi031/CodingAndroidAppLearn" class="btn">View on GitHub</a>
      <a href="https://github.com/basti-shi031/CodingAndroidAppLearn/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/basti-shi031/CodingAndroidAppLearn/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>Coding Android客户端（versionCode92 Name3.2.5）源码学习笔记
+1.EntranceActivity 默认启动界面</p>

<ul>
<li>  1.1继承关系 EntranceActivity--BaseActivity--UmengActivity</li>
<li>      1.1.1 UmengActivity接入UmengSdk，加入友盟统计功能</li>
<li>      1.1.2 BaseActivity Activity模板</li>
<li>              1.1.2.1 SingleToast类 Toast的管理工具类，除了构造方法外，还有四个方法，控制Toast显示的不同位置</li>
<li>              1.1.2.2 NetworkImpl 网络请求工具类</li>
<li>                  1.1.2.3 loadData 方法分析</li>
<li>                          public void loadData(String url, RequestParams params, final String tag, final int dataPos, final Object data, final Request type)</li>
<li>                          url：请求地址</li>
<li>                          params:参数</li>
<li>                          其他参数尚未搞懂什么意思==</li>
<li>                          进入函数时首先保证url以http开头，</li>
<li>                          if (!url.startsWith("http")) {</li>
<li>                              url = Global.HOST + url;</li>
<li>                          }</li>
<li>                          实用，不判断使用协议，网络请求会报错。</li>
<li>                          if (mUpdateing.containsKey(tag) &amp;&amp; mUpdateing.get(tag)) {</li>
<li>                              Log.d("", "url#" + (params == null ? "get " : "post ") + url);</li>
<li>                              return;</li>
<li>                          }
+</li>
<li>                          mUpdateing.put(tag, true);</li>
<li>                          尚未看懂 ==</li>
<li>              1.1.2.3 源码分析</li>
<li>                  onCreate函数中初始化了吐司工具类、网络请求工具类、进度条小菊花的设置。</li>
<li>                  UnreadNotify.update(this);暂时未懂该功能==</li>
<li>                  容易遗漏的地方是onDestory中，当progressDialog不为空时，需要dismiss并置为null</li>
<li>                  getNextPagework</li>
<li>                  postNetwork</li>
<li>                  getNetwork</li>
<li>                  putNetwork</li>
<li>                  deleteNetwork</li>
<li>                  这五个函数调网络接口，暂时未看==</li>
<li>      1.1.3 EntranceActivity 欢迎页面 BaseActivity的具体实现之一</li>
<li>          UserObject猜测为储存用户的资料，用于请求接口时的校验，尚未验证==</li>
<li>          首页动画，随机展示背景图中的任意一幅图，在LoginBackGround工具类中，首先读取所有背景，生成随机数，展示第n幅图<br>
</li>
<li>          overridePendingTransition(R.anim.scroll_in, R.anim.scroll_out); activity之间的切换动画，从第一个参数是第二个activity进入的动画，第二个参数是第一个activity退出的动画，R.anim.scroll_in代码示例：</li>
<li>          &lt;set xmlns:android="<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>"</li>
<li>          android:duration="700"&gt;</li>
<li>              &lt;translate</li>
<li>                  android:duration="700"</li>
<li>                  android:fromXDelta="100%p"</li>
<li>                  android:toXDelta="0%p" /&gt;</li>
<li>              &lt;!--</li>
<li>              &lt;!--android:duration="700"--&gt;</li>
<li>              &lt;!--android:fromAlpha="1.0"--&gt;</li>
<li>              &lt;!--android:toAlpha="1.0" /&gt;--&gt;</li>
<li>          </li>
<li><pre><code>      activity从右向左进入屏幕
        1.1.4 LoginActivity 登录界面
    进入界面，根据上文猜测的某个Key，判断是否需要验证码，并在downloadValifyPhoto函数中下载验证码


1.1.5 MainActivity 主界面
    抽屉式布局的实现原理：DrawerLayout DrawerLayout中有两个子元素，第一个子元素为正常显示的内容，第二个子元素为                           抽屉
    ToolBar使用方法：1.在布局文件中使用v7包下的ToolBar，否则sdk&lt;21时无法使用。
                    2.修改style.xml中的样式，继承DarkActionBar
                    3.在style.xml中的style中增加属性和对应的值，&lt;item name="windowActionBar"&gt;false&lt;/item&gt;，&lt;item name="windowNoTitle"&gt;true&lt;/item&gt;，另有一个属性为colorPrimary，值为Toolbar的背景颜色。在sdk&gt;21时，另有新增的api可以修改状态栏颜色，属性名为colorPrimaryDark，值为颜色。
                    4.在Java代码中，首先绑定ToolBar，然后重写onCreateOptionsMenu方法，绑定menu.xml文件，实例化一个Toolbar.OnMenuItemClickListener对象，设置菜单的监听事件。
</code></pre></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/basti-shi031/CodingAndroidAppLearn">Codingandroidapplearn</a> is maintained by <a href="https://github.com/basti-shi031">basti-shi031</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
